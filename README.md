# –°–∏–º—É–ª—è—Ü—ñ—è —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑–∞–º–æ–≤–ª–µ–Ω—å (Java, –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω—ñ—Å—Ç—å)

–ù–µ–≤–µ–ª–∏–∫–∞ —Å–∏–º—É–ª—è—Ü—ñ—è —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—É, —è–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ä–æ–±–æ—Ç—É –∑ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω—ñ—Å—Ç—é —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é –≤ Java:

* **–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä** (Admin) –ø–æ–ø–æ–≤–Ω—é—î –∑–∞–ø–∞—Å–∏ —Ç–æ–≤–∞—Ä—ñ–≤.
* **–ü–æ–∫—É–ø—Ü—ñ** (Buyers) –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –ø—Ä–∏–¥–±–∞—Ç–∏ —Ç–æ–≤–∞—Ä–∏.
* **–°–µ–º–∞—Ñ–æ—Ä** –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä—É –∫–æ–Ω—Ç—Ä–æ–ª—é—î –∑–∞–ª–∏—à–æ–∫.
* **–†–æ–±–æ—á—ñ –≥–æ–¥–∏–Ω–∏** (WorkingHours) –∫–µ—Ä—É—é—Ç—å –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è–º —Ç–∞ –∑–∞–∫—Ä–∏—Ç—Ç—è–º –º–∞–≥–∞–∑–∏–Ω—É.
* –ê–∫—É—Ä–∞—Ç–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏ –∑ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.

## –Ø–∫ –ø—Ä–∞—Ü—é—î –ø—Ä–æ–≥—Ä–∞–º–∞

1. **`WorkingHours`** –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ç–∞ –∑–∞–∫—Ä–∏–≤–∞—î –º–∞–≥–∞–∑–∏–Ω (—Ü–∏–∫–ª OPEN ‚Üí CLOSE).
2. **`Admin`** –∑ –ø–µ–≤–Ω–∏–º —ñ–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –¥–æ–¥–∞—î –≤–∏–ø–∞–¥–∫–æ–≤—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—É –¥–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç—É.
3. –ö–æ–∂–µ–Ω **`Buyer`**:

   * —è–∫—â–æ –º–∞–≥–∞–∑–∏–Ω –∑–∞–∫—Ä–∏—Ç–∏–π ‚Äî —á–µ–∫–∞—î —Ç–∞ –≤–∏–≤–æ–¥–∏—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è `WAITING (store closed)`;
   * —è–∫—â–æ –º–∞–≥–∞–∑–∏–Ω –≤—ñ–¥–∫—Ä–∏—Ç–∏–π ‚Äî –æ–±–∏—Ä–∞—î –±–∞–∂–∞–Ω–∏–π –∞–±–æ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π —Ç–æ–≤–∞—Ä;
   * –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø—Ä–∏–¥–±–∞—Ç–∏ **1 –æ–¥–∏–Ω–∏—Ü—é** (`Semaphore.tryAcquire()`):

     * —è–∫—â–æ –≤–¥–∞–ª–æ—Å—è ‚Äî `BOUGHT ...`;
     * —è–∫—â–æ –Ω—ñ ‚Äî `SOLD OUT ...`.
4. –ß–µ—Ä–µ–∑ ~5 —Å–µ–∫—É–Ω–¥ –≥–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –∑—É–ø–∏–Ω—è—î –≤—Å—ñ —ñ–Ω—à—ñ —Ç–∞ –≤–∏–≤–æ–¥–∏—Ç—å —Ñ—ñ–Ω–∞–ª—å–Ω—ñ –∑–∞–ª–∏—à–∫–∏ —Ç–æ–≤–∞—Ä—ñ–≤.

> üìå –û—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º ‚Äî **`Semaphore`**: –¥–æ–∑–≤—ñ–ª = –æ–¥–∏–Ω–∏—Ü—è —Ç–æ–≤–∞—Ä—É. `acquire` ‚Üí –∫—É–ø—ñ–≤–ª—è, `release` ‚Üí –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
src/
‚îî‚îÄ‚îÄ lb1/
    ‚îî‚îÄ‚îÄ Main.java      (–≤—Å—ñ –∫–ª–∞—Å–∏ –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ: Product, Store, Admin, Buyer, WorkingHours)
```

## –í–∏–º–æ–≥–∏

* JDK 11+ (—Ç–∞–∫–æ–∂ –ø—Ä–∞—Ü—é—î –Ω–∞ JDK 8).

## –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏

–ü–µ—Ä–µ–π—Ç–∏ —É –ø–∞–ø–∫—É **–Ω–∞ –æ–¥–∏–Ω —Ä—ñ–≤–µ–Ω—å –≤–∏—â–µ** `lb1` (–±–æ –≤ –∫–æ–¥—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ `package lb1;`):

```bash
# –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è
javac lb1/Main.java

# –∑–∞–ø—É—Å–∫
java -cp . lb1.Main
```

–ê–±–æ, —è–∫—â–æ –≤–∏ –≤–∂–µ –≤ –ø–∞–ø—Ü—ñ `lb1`:

```bash
java -cp .. lb1.Main
```

> ‚ö†Ô∏è –Ø–∫—â–æ –∑‚Äô—è–≤–∏—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞ `wrong name: lb1/Main` ‚Äî —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∏ –∑–∞–ø—É—Å—Ç–∏–ª–∏ `java Main` –∑–∞–º—ñ—Å—Ç—å `java lb1.Main`.

## –©–æ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ

–ü—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–≤–æ–¥–∏—Ç—å —É –∫–æ–Ω—Å–æ–ª—å –ø–æ–¥—ñ—ó —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```
[14:07:31.394] STORE      | CLOSED
[14:07:31.714] Buyer-4    | SOLD OUT: Keyboard (left=0) ‚Äî will try later
[14:07:32.514] ADMIN      | Added 1 x Headphones (stock=1)
[14:07:32.900] STORE      | OPENED
[14:07:33.121] Buyer-3    | BOUGHT 1 x Headphones (left=0)
...
[14:07:35.999] MAIN       | Simulation finished. Final stock:
[14:07:35.999] STOCK      | Laptop -> 0
[14:07:35.999] STOCK      | Mouse -> 1
...
```

## –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å–µ –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ

* –ö–æ–ª–∏ –º–∞–≥–∞–∑–∏–Ω **–∑–∞–∫—Ä–∏—Ç–∏–π** ‚Äî –ø–æ–∫—É–ø—Ü—ñ –±–∞—á–∞—Ç—å –ª–∏—à–µ `WAITING (store closed)`.
* –ö–æ–ª–∏ –º–∞–≥–∞–∑–∏–Ω **–≤—ñ–¥–∫—Ä–∏—Ç–∏–π** ‚Äî –ø–æ–∫—É–ø—Ü—ñ –∞–±–æ –∫—É–ø—É—é—Ç—å (`BOUGHT`), –∞–±–æ –±–∞—á–∞—Ç—å `SOLD OUT`.
* –õ–æ–≥–∏ –≤—ñ–¥ **Admin** –ø–æ–∫–∞–∑—É—é—Ç—å –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—É.
* –ù–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ –≤–∏–≤–æ–¥—è—Ç—å—Å—è –æ—Å—Ç–∞—Ç–æ—á–Ω—ñ –∑–∞–ª–∏—à–∫–∏ –ø–æ –∫–æ–∂–Ω–æ–º—É —Ç–æ–≤–∞—Ä—É.

## –Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É —Å–∏–º—É–ª—è—Ü—ñ—ó üß™

* ‚è≥ **–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å —Å–∏–º—É–ª—è—Ü—ñ—ó** ‚Äî –∑–º—ñ–Ω—ñ—Ç—å `Thread.sleep(5_000);` —É `main`.
* üïí **–ì—Ä–∞—Ñ—ñ–∫ —Ä–æ–±–æ—Ç–∏ –º–∞–≥–∞–∑–∏–Ω—É** ‚Äî –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `new WorkingHours(store, 2500, 1500)`.
* üì¶ **–ü–æ—á–∞—Ç–∫–æ–≤—ñ –∑–∞–ª–∏—à–∫–∏** ‚Äî –∑–º—ñ–Ω—ñ—Ç—å `store.addProduct(...)`.
* üßç **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–∫—É–ø—Ü—ñ–≤** —Ç–∞ —ó—Ö–Ω—ñ –≤–ø–æ–¥–æ–±–∞–Ω–Ω—è ‚Äî –∑–º—ñ–Ω—ñ—Ç—å —Å–ø–∏—Å–æ–∫ `buyers`.

## –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏

–ì–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –Ω–∞–¥—Å–∏–ª–∞—î –≤—Å—ñ–º –ø–æ—Ç–æ–∫–∞–º —Å–∏–≥–Ω–∞–ª `interrupt`, –∞ —Ç—ñ –∫–æ—Ä–µ–∫—Ç–Ω–æ –∑—É–ø–∏–Ω—è—é—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è.